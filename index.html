<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TV ONLINE PREMIUM</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        :root { --bg: #050505; --card: #121212; --accent: #ff0000; }
        body { background-color: var(--bg); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; padding-bottom: 30px; overflow-x: hidden; }
        
        .navbar { background: #000; border-bottom: 1px solid #222; padding: 15px; text-align: center; }
        .navbar-brand { font-weight: 800; color: var(--accent) !important; letter-spacing: 2px; text-transform: uppercase; font-size: 22px; }

        .search-container { max-width: 800px; margin: 20px auto 10px auto; padding: 0 15px; }
        .form-control { background: #1a1a1a; border: 1px solid #333; color: white; border-radius: 8px; padding: 12px; font-size: 15px; }
        .form-control:focus { background: #222; border-color: var(--accent); color: white; box-shadow: none; }

        /* CategorÃ­as alineadas a la izquierda */
        .filter-container { 
            max-width: 800px; margin: 0 auto 20px auto; padding: 0 15px; 
            display: flex; justify-content: flex-start; gap: 8px; 
            overflow-x: auto; scrollbar-width: none; 
        }
        .filter-container::-webkit-scrollbar { display: none; }

        .btn-filter { 
            background: #1a1a1a; border: 1px solid #333; color: #888; 
            font-size: 10px; font-weight: 800; padding: 10px 16px; border-radius: 6px; 
            text-transform: uppercase; cursor: pointer; white-space: nowrap; flex-shrink: 0;
        }
        .btn-filter.active { background: var(--accent); color: white; border-color: var(--accent); }

        .channel-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); gap: 12px; padding: 0 15px; max-width: 1200px; margin: 0 auto; }

        .channel-card { 
            background: var(--card); border-radius: 10px; padding: 12px; 
            text-align: center; cursor: pointer; transition: 0.2s;
            border: 1px solid #222; height: 145px; display: flex; 
            flex-direction: column; align-items: center; justify-content: center;
        }
        .channel-card:hover { border-color: var(--accent); transform: translateY(-3px); box-shadow: 0 5px 15px rgba(255,0,0,0.2); }
        
        .img-box { height: 65px; width: 65px; display: flex; align-items: center; justify-content: center; margin-bottom: 10px; }
        .channel-card img { max-height: 100%; max-width: 100%; object-fit: contain; }
        
        .fallback-avatar { 
            width: 50px; height: 50px; background: #1a1a1a; color: var(--accent); 
            border: 2px solid #333; border-radius: 50%; display: flex; 
            align-items: center; justify-content: center; font-weight: 800; 
        }

        .channel-card span { font-size: 9px; font-weight: 700; text-transform: uppercase; color: #ccc; display: block; overflow: hidden; }
    </style>
</head>
<body>

    <nav class="navbar">
        <span class="navbar-brand">TV ONLINE</span>
    </nav>

    <div class="search-container">
        <input type="text" id="searchInput" class="form-control" placeholder="ðŸ” Buscar entre los 47 canales y mÃ¡s...">
    </div>

    <div class="filter-container">
        <div class="btn-filter active" onclick="filterCat('TODOS', this)">TODOS</div>
        <div class="btn-filter" onclick="filterCat('NACIONALES PY', this)">NACIONALES PY</div>
        <div class="btn-filter" onclick="filterCat('DEPORTES', this)">DEPORTES</div>
        <div class="btn-filter" onclick="filterCat('24/7', this)">24/7</div>
        <div class="btn-filter" onclick="filterCat('VARIEDADES', this)">VARIEDADES</div>
    </div>

    <div id="mainGrid" class="channel-grid"></div>

    <script>
        const manualChannels = [
            // --- NACIONALES PARAGUAY ---
            { name: "SNT HD", cat: "NACIONALES PY", url: "https://d2qsan2ut81n2k.cloudfront.net/live/2e1f1b6a-9d03-4194-8559-2eabe61a1555/ts:abr.m3u8", logo: "https://tvinsur.com/wp-content/uploads/2023/12/SNT-Paraguay-en-vivo-Online.webp" },
            { name: "TELEFUTURO", cat: "NACIONALES PY", url: "https://www.desdepylabs.com/External/tvaccion/telefuturo", logo: "https://upload.wikimedia.org/wikipedia/commons/e/e0/TelefuturoLogo2022.png" },
            { name: "TRECE PY", cat: "NACIONALES PY", url: "https://geo.dailymotion.com/player/x1at3a.html?video=k4nLYiNrBX8W5jDbSlM", logo: "https://tvinsur.com/wp-content/uploads/2023/12/Canal-Trece-Paraguay-en-vivo-Online.webp" },
            { name: "GEN", cat: "NACIONALES PY", url: "https://gentv.desdepylabs.com/External/tvaccion/gentv", logo: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjV3EkyMzkDOEzag41tRjz59O3pC0Nar7SabfXNxeXLRT_2OrtH8znisKfmH_aGwtfQKd-HdK_F8o6ZuDMQIC32KDwvI1xLg_ruUElRzQn5_-3rtKbjPgZJCYnurz8_22yWcKmkGctfQCCn/s513/GEN+en+vivo.jpg" },
            { name: "NPY NOTICIAS", cat: "NACIONALES PY", url: "https://www.desdepylabs.com/External/tvaccion/npy", logo: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgHqF5ttfQ-As7BtoTYABhGWWVGnZrYPz5_L5Ab-KJKkosd-os3v6qLE-5mCaC9pEJRMc7ZfzW_j0BcA45n2KGWH5D1ZinKpEPkrAIs1zrvwSJYzfmo0UihZsq0LAs0aUd3sMSGxNqoyWco/s1366/NPY+en+vivo.png" },
            { name: "ABC TV", cat: "NACIONALES PY", url: "https://cdn.jwplayer.com/live/broadcast/aide2636.mpd", logo: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjkUPqtzL9tm0weAroMA3d690z-aGPedrLlNGDDVclqwQ2lpiOua-15lhunFQ9ykbCC0KAnf2mYH6Ogp9MoWoNNYGlqClbegTamL3Y30Xq7UR5-z5xBwybm6lm5QCuFW7OQGwwfI7dXHBNp/s900/ABC+TV+en+vivo.jpg" },
            { name: "UNICANAL", cat: "NACIONALES PY", url: "https://geo.dailymotion.com/player/x1apn6.html?video=k1mHLKycOlKgo3Db5GI", logo: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgfW3J9GRYfLNJmRY8xba_veN14bEXrBsX7FN8Yu1VAT-G1mW8c4KjesXoQe540738X4jlk07z7W3MeDw2TjvEjQrpGYrPX-wLmyU0Ogbwc0X1BXRBTd_4Q5PfMHC9UjVXsEvIWCpUgMMZo/s440/Unicanal+en+vivo.jpg" },
            { name: "LA TELE", cat: "NACIONALES PY", url: "https://www.desdepylabs.com/External/tvaccion/latele", logo: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi64FmGWdI8ttE3TUfDlvlnLZlVRlKlfb-tUTO8Idqn4fLEqY_t_Vy3MTFZhWJdI6ENBysxzRYlZeXoANHoZpMe1Q-G8LIYsivIh9PupdN61W6U-weSmPmMM2Y2a36P5sNPm8vnCSgdPLnL/s250/La+Tele+en+vivo.jpg" },
            { name: "C9N", cat: "NACIONALES PY", url: "https://d2qsan2ut81n2k.cloudfront.net/live/48f53430-9014-4459-a048-6169dac14140/ts:abr.m3u8", logo: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg6lnz2CDRLLnpQuDEIbbdewTqtDKk9hzCf25mF-4aIqWTS1JksMcSA-C5j3LRkA1_GYXYNHgSGpxno4C62tgD57UmYQaWWdswOgu9qIMQjFBWwUjvsfIFgSb74f4JxOtTBqIFqFKvFtC-9/s1042/C9N+en+vivo.jpg" },
            { name: "PARAGUAY TV", cat: "NACIONALES PY", url: "https://stream.paraguaytv.gov.py/memfs/bbe36fed-9b49-4d1d-adaa-4bd6d1b2e386_output_0.m3u8", logo: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjQXi245YVRoKkW0BsRYVYHhaYq81bW4Qo4U5MT5sG9LxjZH3HOdb-e32Rnfq4Y6McRYnHGDVPPQ9M0_WzzGk2eWSpFCh3p3Lt_tHOqJbeyF85b61x_bxQK0KfGL_nOJPhbTgCoDKJkTmnJ/w700-h400-p-k-no-nu/Paraguay+TV+en+vivo.png" },
            { name: "MAS TV", cat: "NACIONALES PY", url: "https://player.twitch.tv/?channel=mastvonline&parent=cableparatodos-nacionalespy-player.blogspot.com", logo: "https://masencarnacion.opentechla.com/themes/mas-encarnacion/assets/tv/images/favicon.png" },
            { name: "FARRA PLAY", cat: "NACIONALES PY", url: "http://159.203.148.226/live/farra.m3u8", logo: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgN7FqqPypJG1v2g7PRKV7m8sNlDlN5MAlMId6cYhnN0ebzP7eq9K16zWBm07OVh84XjvRE6-_JOZfhdWXLRIokKPqYYyIk5QgDjgX9XQxfjyjMWS60BF2PSZiZdl0vKt_8IP3V2xgCLQ8d/s900/Farra+Play+TV+en+vivo.jpg" },
            { name: "HEI", cat: "NACIONALES PY", url: "https://gentv.desdepylabs.com/External/tvaccion/heitv", logo: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj_dN6ekk_faiIXpO1Y2uQgf6Wzc5fJpwf36BCup66P96MG0A6d_vV4ILpaqg-L3U5vaetHrNAKSRnueQiPdGy2BxCuZzAw_9hKrzsQqhzW64B4CFyOgmOY2dVof_Z3uB5epj8-s2iPPzdr/w700-h400-p-k-no-nu/Hei+en+vivo.jpg" },
            { name: "Ã‘ANDUTI TV", cat: "NACIONALES PY", url: "https://zn1tf.desdeparaguay.net/nandutitv/nandutitv_baja/chunklist_w991402185.m3u8", logo: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEizUUhDSGutrRSwXN4h3sTaf50yV2NYY8F4DtSwCt-xCnS8mVCgFQ8XNvgNEAXyblsiWt3nki1dNSvFMdUs4KFDPtxSqS5q6FnmoRIWqigtsGUskbfCXyXg81uRQbnLAkazpnGjpmFAJdSW/s640/%25C3%2591anduti+TV+en+vivo.png" },

            // --- DEPORTES ---
            { name: "TIGO SPORT", cat: "DEPORTES", url: "https://futbolparaguayotv.github.io/futbolparaguayotv/3ventos.html", logo: "https://discovery-content-py.tigocloud.net/uploads/Frame_49_84a38f7e5e.png" },
            { name: "TIGO SPORT 2", cat: "DEPORTES", url: "https://futbolparaguayotv.github.io/futbolparaguayotv/3ventos2.html", logo: "https://discovery-content-py.tigocloud.net/uploads/Frame_49_84a38f7e5e.png" },
            { name: "TIGO SPORT 3", cat: "DEPORTES", url: "https://futbolparaguayotv.github.io/futbolparaguayotv/3ventos3.html", logo: "https://discovery-content-py.tigocloud.net/uploads/Frame_49_84a38f7e5e.png" },
            { name: "ESPN", cat: "DEPORTES", url: "http://xcm.budtv-ultra.com:9000/budtv/budtvline/8Y3ymUpJESps/278765.m3u8", logo: "https://upload.wikimedia.org/wikipedia/commons/a/a7/ESPN_logo.svg" },
            { name: "ESPN PREMIUM", cat: "DEPORTES", url: "http://xcm.budtv-ultra.com:9000/budtv/budtvline/8Y3ymUpJESps/278765.m3u8", logo: "https://upload.wikimedia.org/wikipedia/commons/b/bb/Espn_premium.png" },
            { name: "FOX SPORT", cat: "DEPORTES", url: "http://xcm.budtv-ultra.com:9000/budtv/websline/eWmWuCeW3j9F/278766.m3u8", logo: "https://upload.wikimedia.org/wikipedia/commons/1/18/Fox_Sports_logo.svg" },
            { name: "DEPORTES M+", cat: "DEPORTES", url: "http://xcm.budtv-ultra.com:9000/budtv/budtvline/8Y3ymUpJESps/278862.m3u8", logo: "" },
            { name: "ECDF SPORT", cat: "DEPORTES", url: "http://xcm.budtv-ultra.com:9000/budtv/budtvline/8Y3ymUpJESps/279320.m3u8", logo: "" },
            { name: "ESPN 7", cat: "DEPORTES", url: "http://xcm.budtv-ultra.com:9000/budtv/websline/eWmWuCeW3j9F/278567.m3u8", logo: "" },
            { name: "ESPN MEX", cat: "DEPORTES", url: "http://xcm.budtv-ultra.com:9000/budtv/budtvline/8Y3ymUpJESps/278578.m3u8", logo: "" },
            { name: "TENIS CHANNEL", cat: "DEPORTES", url: "https://tennischannel-int-samsunguk.amagi.tv/playlist720_p.m3u8", logo: "" },

            // --- 24/7 ---
            { name: "FUTURAMA", cat: "24/7", url: "http://xcm.budtv-ultra.com:9000/budtv/budtvline/8Y3ymUpJESps/279008.m3u8", logo: "https://upload.wikimedia.org/wikipedia/commons/8/84/Futurama_1999_logo.svg" },
            { name: "COMEDIA", cat: "24/7", url: "http://xcm.budtv-ultra.com:9000/budtv/budtvline/8Y3ymUpJESps/278848.m3u8", logo: "" },
            { name: "TDP", cat: "24/7", url: "http://xcm.budtv-ultra.com:9000/budtv/budtvline/8Y3ymUpJESps/278856.m3u8", logo: "" },
            { name: "CANAL 1", cat: "24/7", url: "http://xcm.budtv-ultra.com:9000/budtv/budtvline/8Y3ymUpJESps/279385.m3u8", logo: "" },
            { name: "NOVA", cat: "24/7", url: "http://xcm.budtv-ultra.com:9000/budtv/budtvline/8Y3ymUpJESps/278865.m3u8", logo: "" },

            // --- VARIEDADES ---
            { name: "TN (TODO NOTICIAS)", cat: "VARIEDADES", url: "http://xcm.budtv-ultra.com:9000/budtv/websline/eWmWuCeW3j9F/278775.m3u8", logo: "" },
            { name: "ATV", cat: "VARIEDADES", url: "https://www.dailymotion.com/embed/video/x84eirw?autoplay=1", logo: "" },
            { name: "CANAL 6", cat: "VARIEDADES", url: "https://mdstrm.com/live-stream-playlist/5f2d9d6ff17144074bd8a284.m3u8", logo: "" },
            { name: "CRONICA DTV", cat: "VARIEDADES", url: "https://g3.vxral-slo.transport.edge-access.net/a14/ngrp:cronicatv_video1-100044_all/Playlist.m3u8?sense=true", logo: "" },
            { name: "ECUAVISA (V)", cat: "VARIEDADES", url: "https://jireh-3-hls-video-us-isp.dps.live/hls-video/c54ac2799874375c81c1672abb700870537c5223/ecuavisa/ecuavisa.smil/ecuavisa/livestream0/chunks.m3u8", logo: "" },
            { name: "PLANETA TV", cat: "VARIEDADES", url: "https://tls-cl.cdnz.cl/planetatv/live/playlist.m3u8", logo: "" },
            { name: "DISCOVERY KIDS", cat: "VARIEDADES", url: "http://xcm.budtv-ultra.com:9000/budtv/budtvline/8Y3ymUpJESps/278536.m3u8", logo: "" },
            { name: "VENUS", cat: "VARIEDADES", url: "https://tigocloud.desdeparaguay.net/venusmedia/venusmedia/playlist.m3u8", logo: "" },
            { name: "RCG MAS", cat: "VARIEDADES", url: "https://video1.getstreamhosting.com:1936/8172/8172/playlist.m3u8", logo: "" },
            { name: "EXTREMA", cat: "VARIEDADES", url: "http://livestreamcdn.net:1935/ExtremaTV/ExtremaTV/playlist.m3u8", logo: "" },
            { name: "RCN TV MAS", cat: "VARIEDADES", url: "https://rcntv-rcnmas-1-us.roku.wurl.tv/playlist.m3u8", logo: "" },
            { name: "A3 SERIES LNT", cat: "VARIEDADES", url: "https://ats-edge-inde-8.live.clarovtrcdn.vtrplay.com/a3serieshdchi/vxfmt=dp/playlist.m3u8", logo: "" },
            { name: "HISPANO TV", cat: "VARIEDADES", url: "https://live.presstv.ir/hls/hispantv.m3u8", logo: "" },
            { name: "CANAL TURBO FIESTA", cat: "VARIEDADES", url: "https://7.innovatestream.pe:19360/turbomixoficial/turbomixoficial.m3u8", logo: "" },
            { name: "DALE PLAY CHILE", cat: "VARIEDADES", url: "http://ats-edge-inde-8.live.clarovtrcdn.vtrplay.com/megahdchi/vxfmt=dp/playlist.m3u8", logo: "" },
            { name: "CANAL 2", cat: "VARIEDADES", url: "https://edge.teveo.net/live/AeAAAgBJAA5AA1IAyADIUDAAAAGAAAAAAmiWKdeKecuSAAAA/playlist.m3u8", logo: "" },
            { name: "RTV ESPAÃ‘A", cat: "VARIEDADES", url: "https://ztnr.rtve.es/ztnr/1694255.m3u8", logo: "" },
            { name: "CTN CRISTIANO", cat: "VARIEDADES", url: "https://video1.getstreamhosting.com:1936/8226/8226/playlist.m3u8", logo: "" }
        ];

        let allChannels = [];
        let currentFilter = "TODOS";

        async function init() {
            try {
                const response = await fetch('https://magma.alwaysdata.net/budtv/tvmagmanew/api.php');
                const text = await response.text();
                const lines = text.split('\n');
                let remote = [];
                for (let i = 0; i < lines.length; i++) {
                    if (lines[i].includes('#EXTINF:')) {
                        const name = lines[i].split(',')[1]?.trim() || "Canal";
                        const url = lines[i+1]?.trim();
                        const logoMatch = lines[i].match(/tvg-logo="([^"]+)"/);
                        const logo = logoMatch ? logoMatch[1] : "";
                        if (url && url.startsWith('http')) remote.push({ name, url, logo, cat: "API" });
                    }
                }
                allChannels = [...manualChannels, ...remote];
                
                // --- RESTAURADO: ORDEN ALFABÃ‰TICO ---
                allChannels.sort((a, b) => a.name.localeCompare(b.name));
                
                render();
            } catch (e) {
                allChannels = manualChannels.sort((a, b) => a.name.localeCompare(b.name));
                render();
            }
        }

        function filterCat(cat, btn) {
            currentFilter = cat;
            document.querySelectorAll('.btn-filter').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            render(document.getElementById('searchInput').value);
        }

        function handleImgError(img, name) {
            img.onerror = null; 
            const parent = img.parentElement;
            parent.innerHTML = `<div class="fallback-avatar">${name.charAt(0).toUpperCase()}</div>`;
        }

        function render(search = "") {
            const grid = document.getElementById('mainGrid');
            grid.innerHTML = "";
            let filtered = allChannels.filter(ch => {
                const matchesSearch = ch.name.toLowerCase().includes(search.toLowerCase());
                const matchesCat = (currentFilter === "TODOS") || (ch.cat === currentFilter) || (ch.cat === "API" && currentFilter === "TODOS");
                return matchesSearch && matchesCat;
            });

            filtered.forEach(ch => {
                const card = document.createElement('div');
                card.className = "channel-card";
                card.innerHTML = `<div class="img-box"><img src="${ch.logo}" onerror="handleImgError(this, '${ch.name}')"></div><span>${ch.name}</span>`;
                card.onclick = () => window.open(ch.url, '_blank');
                grid.appendChild(card);
            });
        }

        document.getElementById('searchInput').addEventListener('input', (e) => render(e.target.value));
        init();
    </script>
</body>
</html>
